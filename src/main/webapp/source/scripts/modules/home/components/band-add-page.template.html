<form name="ctrl.ownerForm" class="form-horizontal form-tab" autocomplete="on" novalidate>

<legend>ADD BAND</legend>

	<div class="form-group has-feedback"
			ng-class="{ 'has-success': writerForm.name.$valid && ctrl.ownerForm.$submitted,
                             'has-error': writerForm.name.$invalid && ctrl.ownerForm.$submitted }">
			<label class="col-xs-3 asterisk-label">Band Name</label>
			<div class="col-xs-7">
				<input type="text" name="name" class="form-control"
					ng-model="ctrl.data.ownershipInformation.bandName" required />
				<div class="alert alert-danger" role="alert"
					ng-show="writerForm.name.$invalid && ctrl.ownerForm.$submitted">
					<span class="glyphicon glyphicon-exclamation-sign"
						aria-hidden="true"></span> <span
						ng-show="writerForm.name.$error.required"> Please, provide
						a band name! </span>
				</div>
			</div>
		</div>
		
	<div ng-repeat="songwriter in ctrl.data.ownershipInformation.songwriters">
		<ng-form name="writerForm"> <legend class="inner-legend">
			Member<small ng-show="$index">&nbsp;#{{$index + 1}}</small>
		</legend>
		
		<div class="form-group has-feedback"
			ng-class="{ 'has-success': writerForm.name.$valid && ctrl.ownerForm.$submitted,
                             'has-error': writerForm.name.$invalid && ctrl.ownerForm.$submitted }">
			<label class="col-xs-3 asterisk-label">Name</label>
			<div class="col-xs-7">
				<input type="text" name="name" class="form-control"
					ng-model="songwriter.name" required />
				<div class="alert alert-danger" role="alert"
					ng-show="writerForm.name.$invalid && ctrl.ownerForm.$submitted">
					<span class="glyphicon glyphicon-exclamation-sign"
						aria-hidden="true"></span> <span
						ng-show="writerForm.name.$error.required"> Please, provide
						an song writer name! </span>
				</div>
			</div>
			<div class="col-xs-2 text-right">
				<a class="btn btn-danger" ng-show="$index"
					ng-click="ctrl.removeWriter($index)"> <span
					class="glyphicon glyphicon-trash"></span>
				</a> <a class="btn btn-success" ng-click="ctrl.addWriter()"> <span
					class="glyphicon glyphicon-plus-sign"></span>
				</a>
			</div>
		</div>

		<div class="form-group has-feedback"
			ng-class="{ 'has-success': writerForm.primaryPhone.$valid && ctrl.ownerForm.$submitted,
                             'has-error': writerForm.primaryPhone.$invalid && ctrl.ownerForm.$submitted }">
			<label class="col-xs-3 asterisk-label">Primary Phone</label>
			<div class="col-xs-7">
				<input type="text" name="primaryPhone" class="form-control"
					ng-model="songwriter.primaryPhone"
					ng-pattern="/^[0-9]{3}-[0-9]{3}-[0-9]{4}$/"
					placeholder="123-123-1234" required />
				<div class="alert alert-danger" role="alert"
					ng-show="writerForm.primaryPhone.$invalid && ctrl.ownerForm.$submitted">
					<span class="glyphicon glyphicon-exclamation-sign"
						aria-hidden="true"></span> <span
						ng-show="writerForm.primaryPhone.$error.required"> Please,
						provide a phone number! </span> <span
						ng-show="writerForm.primaryPhone.$error.pattern"> Please,
						provide an valid phone number in a following format: xxx-xxx-xxxx!
					</span>
				</div>
			</div>
		</div>

		<div class="form-group has-feedback"
			ng-class="{ 'has-success': writerForm.secondaryPhone.$valid && ctrl.ownerForm.$submitted,
                             'has-error': writerForm.secondaryPhone.$invalid && ctrl.ownerForm.$submitted }">
			<label class="col-xs-3">Secondary Phone</label>
			<div class="col-xs-7">
				<input type="text" name="secondaryPhone" class="form-control"
					ng-model="songwriter.secondaryPhone"
					ng-pattern="/^[0-9]{3}-[0-9]{3}-[0-9]{4}$/"
					placeholder="123-123-1234" />
				<div class="alert alert-danger" role="alert"
					ng-show="writerForm.secondaryPhone.$invalid && ctrl.ownerForm.$submitted">
					<span class="glyphicon glyphicon-exclamation-sign"
						aria-hidden="true"></span> <span
						ng-show="writerForm.secondaryPhone.$error.pattern"> Please,
						provide an valid phone number in a following format: xxx-xxx-xxxx!
					</span>
				</div>
			</div>
		</div>

		<div class="form-group has-feedback"
			ng-class="{ 'has-success': writerForm.primaryEmail.$valid && ctrl.ownerForm.$submitted,
                             'has-error': writerForm.primaryEmail.$invalid && ctrl.ownerForm.$submitted }">
			<label class="col-xs-3 asterisk-label">Primary E-mail</label>
			<div class="col-xs-7">
				<input type="email" name="primaryEmail" class="form-control"
					ng-model="songwriter.primaryEmail" required />
				<div class="alert alert-danger" role="alert"
					ng-show="writerForm.primaryEmail.$invalid && ctrl.ownerForm.$submitted">
					<span class="glyphicon glyphicon-exclamation-sign"
						aria-hidden="true"></span> <span
						ng-show="writerForm.primaryEmail.$error.required"> Please,
						provide a e-mail address! </span> <span
						ng-show="writerForm.primaryEmail.$error.email"> Please,
						provide a valid e-mail address! </span>
				</div>
			</div>
		</div>

		<div class="form-group"
			ng-class="{ 'has-success': writerForm.secondaryEmail.$valid && ctrl.ownerForm.$submitted,
                             'has-error': writerForm.secondaryEmail.$invalid && ctrl.ownerForm.$submitted }">
			<label class="col-xs-3">Secondary E-mail</label>
			<div class="col-xs-7">
				<input type="email" name="secondaryEmail" class="form-control"
					ng-model="songwriter.secondaryEmail" />
				<div class="alert alert-danger" role="alert"
					ng-show="writerForm.secondaryEmail.$invalid && ctrl.ownerForm.$submitted">
					<span class="glyphicon glyphicon-exclamation-sign"
						aria-hidden="true"></span> <span
						ng-show="writerForm.secondaryEmail.$error.email"> Please,
						provide a valid e-mail address! </span>
				</div>
			</div>
		</div>

		<div class="form-group"
			ng-class="{ 'has-success': writerForm.contribution.$valid && ctrl.ownerForm.$submitted,
                             'has-error': writerForm.contribution.$invalid && ctrl.ownerForm.$submitted }">
			<label class="col-xs-3">Contribution</label>
			<div class="col-xs-7">
				<select name="contribution" class="form-control"
					ng-model="songwriter.contribution"
					ng-options="contribution for contribution in ctrl.musicContributions">
					<option value="">Select Contribution...</option>
				</select>
			</div>
		</div>

		<div class="form-group has-feedback"
			ng-class="{ 'has-success': writerForm.ownershipPercent.$valid && ctrl.ownerForm.$submitted,
                             'has-error': writerForm.ownershipPercent.$invalid && ctrl.ownerForm.$submitted }">
			<label for="ownership-percent" class="col-xs-3"> Ownership
				(%)<span class="glyphicon glyphicon-question-sign"
				uib-tooltip="Tooltip to be added">
			</label>
			<div class="col-xs-7">
				<input type="number" value="0" name="ownershipPercent" class="form-control"
					id="ownership-percent" ng-model="songwriter.ownershipPercent"
					min="0" max="100" required />
				<div class="alert alert-danger" role="alert"
					ng-show="writerForm.ownershipPercent.$invalid && ctrl.ownerForm.$submitted">
					<span class="glyphicon glyphicon-exclamation-sign"
						aria-hidden="true"></span> <span
						ng-show="writerForm.ownershipPercent.$error.min"> Ownership
						(%) cannot be below zero! </span> <span
						ng-show="writerForm.ownershipPercent.$error.max"> Ownership
						(%) cannot exceed 100! </span>
				</div>
			</div>
		</div>

		<div class="form-group has-feedback"
			ng-class="{ 'has-success': writerForm.musicianRole.$valid && ctrl.ownerForm.$submitted,
                             'has-error': writerForm.musicianRole.$invalid && ctrl.ownerForm.$submitted }">
			<label class="col-xs-3 asterisk-label"> Role <span
				class="glyphicon glyphicon-question-sign"
				uib-tooltip="Tooltip to be added"></span>
			</label>
			<div class="col-xs-7">
				<select name="musicianRole" class="form-control"
					ng-model="songwriter.musicianRole"
					ng-options="role for role in ctrl.musicianRoles"
					ng-change="ctrl.selectRole(role)" required>
					<option value="">Select Role...</option>
				</select>
				<div class="alert alert-danger" role="alert"
					ng-show="ctrl.ownerForm.musicianRole.$invalid && ctrl.ownerForm.$submitted">
					<span class="glyphicon glyphicon-exclamation-sign"
						aria-hidden="true"></span> <span
						ng-show="ctrl.ownerForm.musicianRole.$error.required">
						Please, select a role! </span>
				</div>
			</div>
		</div>
		</ng-form>
	</div>

	<hr />

	<div class="form-group">
		<div class="col-xs-3">
			<button class="btn btn-block btn-primary" ng-click="ctrl.submit(ctrl.data)">Save</button>
		</div>
	</div>
</form>